# Tub-Tub

Tub-Tub is a web application that allows users to share and watch videos from all over the world. Tub-Tub gives users the opportunity to interact with videos and other users through comments, likes, and dislikes. 

![Screen Shot 2020-01-10 at 9 14 22 PM](https://user-images.githubusercontent.com/43099538/72199247-3b661400-33ee-11ea-9a87-76bc357fe452.png)

---

## Live Demo

[Check out some videos!](https://tub-tub.herokuapp.com/#/)

---

## Technologies
  + HTML/CSS
  + Javascript
  + React
  + Redux
  + Ruby on Rails
  + PostgreSQL
  + Material UI
  + AWS S3
  + Heroku
  
 ---
 
 ## Feature Highlights
 
### User authentication using BCrypt

![signin](https://user-images.githubusercontent.com/43099538/72199169-17ee9980-33ed-11ea-84f5-f69473a79cf6.gif)

### User's can post videos to share with everyone

![videoupload](https://user-images.githubusercontent.com/43099538/72199170-191fc680-33ed-11ea-982b-b38119b9829f.gif)

### User's can either like or dislike videos

![like](https://user-images.githubusercontent.com/43099538/72199175-1e7d1100-33ed-11ea-8ddf-86012ab0ab5d.gif)

### User's can create comments on their favorite videos

![comment](https://user-images.githubusercontent.com/43099538/72199176-21780180-33ed-11ea-8a0d-8ef4c8e5f308.gif)

---

## Code Snippets

### Video Preview Before Submission

![videoform](https://user-images.githubusercontent.com/43099538/72199499-c85e9c80-33f1-11ea-9e21-be049971adb1.png)

This "handleFile" function is called through and "onChange" event that is attached to an input JSX element rendered in this video form component. In this function, I grab the file that is input by the user and create a fileReader object. Once the fileReader object is created, we make an asynchronous call that listens for the fileReader object to finish reading the file input by the user.

Then below, if there a video file input by the user, we use the readDataAsURL method, which allows the fileReader object to read the file accessed through the event's current target -- the input JSX element. After the readDataAsURL method is finished, the asynchronous onloadend callback is triggered, assigning both the file itself and the URL generated from the fileReader object to the component's state.

The file is later used and assigned to an object that eventually gets sent and saved to the rails backend, but the URL that is generated by the process outlined above, allows us to have the conditional below that renders a video element with its source as the URL. Thus presenting the user with a preview of the video they uploaded before it ever hits the backend. 

![previewvideoform](https://user-images.githubusercontent.com/43099538/72199501-c85e9c80-33f1-11ea-8cf7-6bda7147d83f.png)

### Micro-Interactions / Dynamic Class Assignment

![dynamicclass](https://user-images.githubusercontent.com/43099538/72199500-c85e9c80-33f1-11ea-882d-ce190ef32d69.png)

Within the render function, I assigned an array of class names to a variable. I assigned certain JSX elements classnames, using these variables by joining them on a space. This allows me to control and change the class names assigned to a JSX element based on whatever conditions I require. Therefore, allowing me to change and smoothly transition the CSS styling on elements.

In this specific example, I have "addEmailEffect" and "addPasswordEffect" in the component's state that are either true or false. I have each slice of the component's state switched, dependending on whether the email or password inputs are in focus, or if the value of the input element is greater than 0. If the component's "addEmailEffect" is set to false, only "login-email" will be assigned to the JSX element's class name, if it's set to true, the class name would then be "login-email effect". 

This logic is used in other component's as well so that each component handles its own state and appearance, and that the micro-interactions of the UI are handled with React rather than vanilla javascript. 

### Search Logic in Controller

![controller](https://user-images.githubusercontent.com/43099538/72199502-c85e9c80-33f1-11ea-8f04-5940bcd90368.png)


